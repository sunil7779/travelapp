{"ast":null,"code":"import React,{useState}from\"react\";import{db}from\"../firebase/firebase\";import{collection,addDoc}from\"firebase/firestore\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddItinerary=()=>{const[destination,setDestination]=useState(\"\");const[activity,setActivity]=useState(\"\");const[dates,setDates]=useState(\"\");const[tripType,setTripType]=useState(\"\");const[loading,setLoading]=useState(false);// Step 1: Add loading state\nconst handleSubmit=async e=>{e.preventDefault();// Step 2: Set loading to true while the form is being submitted\nsetLoading(true);try{await addDoc(collection(db,\"itineraries\"),{destination,activity,dates,tripType});alert(\"Itinerary added successfully!\");// Step 3: Reset form and stop loading\nsetDestination(\"\");setActivity(\"\");setDates(\"\");setTripType(\"\");setLoading(false);// Stop loading after submission\n}catch(error){console.error(\"Error adding itinerary: \",error);setLoading(false);// Stop loading if there's an error\n}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add New Itinerary\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Destination:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:destination,onChange:e=>setDestination(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Activity:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:activity,onChange:e=>setActivity(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Dates:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:dates,onChange:e=>setDates(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Trip Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:tripType,onChange:e=>setTripType(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Adventure\",children:\"Adventure\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Leisure\",children:\"Leisure\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Work\",children:\"Work\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?\"Adding...\":\"Add Itinerary\"})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:\"Loading...\"})]});};export default AddItinerary;","map":{"version":3,"names":["React","useState","db","collection","addDoc","jsx","_jsx","jsxs","_jsxs","AddItinerary","destination","setDestination","activity","setActivity","dates","setDates","tripType","setTripType","loading","setLoading","handleSubmit","e","preventDefault","alert","error","console","children","onSubmit","type","value","onChange","target","required","disabled","className"],"sources":["C:/Users/SUNIL/Desktop/projectintern/travel-app/src/pages/AddItinerary.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { db } from \"../firebase/firebase\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\n\r\nconst AddItinerary = () => {\r\n  const [destination, setDestination] = useState(\"\");\r\n  const [activity, setActivity] = useState(\"\");\r\n  const [dates, setDates] = useState(\"\");\r\n  const [tripType, setTripType] = useState(\"\");\r\n  const [loading, setLoading] = useState(false); // Step 1: Add loading state\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Step 2: Set loading to true while the form is being submitted\r\n    setLoading(true);\r\n\r\n    try {\r\n      await addDoc(collection(db, \"itineraries\"), {\r\n        destination,\r\n        activity,\r\n        dates,\r\n        tripType,\r\n      });\r\n      alert(\"Itinerary added successfully!\");\r\n\r\n      // Step 3: Reset form and stop loading\r\n      setDestination(\"\");\r\n      setActivity(\"\");\r\n      setDates(\"\");\r\n      setTripType(\"\");\r\n      setLoading(false); // Stop loading after submission\r\n    } catch (error) {\r\n      console.error(\"Error adding itinerary: \", error);\r\n      setLoading(false); // Stop loading if there's an error\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Add New Itinerary</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Destination:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={destination}\r\n          onChange={(e) => setDestination(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <label>Activity:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={activity}\r\n          onChange={(e) => setActivity(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <label>Dates:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={dates}\r\n          onChange={(e) => setDates(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <label>Trip Type:</label>\r\n        <select\r\n          value={tripType}\r\n          onChange={(e) => setTripType(e.target.value)}\r\n          required\r\n        >\r\n          <option value=\"Adventure\">Adventure</option>\r\n          <option value=\"Leisure\">Leisure</option>\r\n          <option value=\"Work\">Work</option>\r\n        </select>\r\n\r\n        <button type=\"submit\" disabled={loading}>\r\n          {loading ? \"Adding...\" : \"Add Itinerary\"}\r\n        </button>\r\n      </form>\r\n\r\n      {/* Step 4: Show loading spinner when loading */}\r\n      {loading && <div className=\"spinner\">Loading...</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddItinerary;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}